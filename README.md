# ğŸ§  æ€ç»´å¯¼å›¾ç”Ÿæˆå™¨

ä¸€ä¸ªè½»é‡çº§çš„æ€ç»´å¯¼å›¾ç”Ÿæˆå·¥å…·ï¼Œå¯ä»¥å°†ç”¨æˆ·è¾“å…¥çš„ä»»æ„å½¢å¼æ–‡æœ¬å¿«é€Ÿè½¬æ¢ä¸ºç»“æ„åŒ–çš„å¯è§†åŒ–æ€ç»´å¯¼å›¾ã€‚

## âœ¨ é¡¹ç›®ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **æ™ºèƒ½æ–‡æœ¬è§£æ**ï¼šæ”¯æŒä»»æ„å½¢å¼çš„æ–‡æœ¬è¾“å…¥ï¼Œè‡ªåŠ¨è¯†åˆ«å±‚çº§ç»“æ„
- **å¤šæ ¼å¼æ–‡æ¡£æ”¯æŒ**ï¼šæ”¯æŒ TXTã€DOCX æ–‡ä»¶ä¸Šä¼ å’Œæ–‡æœ¬ç›´æ¥è¾“å…¥
- **å¿«é€Ÿå¤„ç†**ï¼šè½»é‡çº§æ–‡æœ¬å¤„ç†ï¼Œæ— éœ€å¤æ‚çš„AIæ¨¡å‹è°ƒç”¨
- **å³æ—¶é¢„è§ˆ**ï¼šå®æ—¶ç”Ÿæˆå¹¶å±•ç¤ºæ€ç»´å¯¼å›¾
- **äº¤äº’å¼æ“ä½œ**ï¼šå¯ç¼©æ”¾ã€æ‹–æ‹½ã€å¯¼å‡ºçš„æ€ç»´å¯¼å›¾ç•Œé¢

### ğŸš€ æŠ€æœ¯äº®ç‚¹
- **æ™ºèƒ½æ ¼å¼è¯†åˆ«**ï¼šè‡ªåŠ¨æ£€æµ‹å•è¡Œã€å¤šè¡Œã€å±‚çº§ã€ç¼–å·ç­‰æ–‡æœ¬æ ¼å¼
- **çµæ´»å…¼å®¹æ€§**ï¼šå¤„ç†ä»»æ„å½¢å¼çš„æ–‡æœ¬è¾“å…¥ï¼Œæ— éœ€ç‰¹å®šæ ¼å¼è¦æ±‚
- **é«˜æ•ˆæ€§èƒ½**ï¼šçº¯å‰ç«¯æ–‡æœ¬è§£æï¼Œå¤„ç†é€Ÿåº¦å¿«
- **ç°ä»£åŒ–UI**ï¼šå“åº”å¼è®¾è®¡ï¼Œå®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **å¼€ç®±å³ç”¨**ï¼šæ— éœ€AIæœåŠ¡é…ç½®ï¼Œéƒ¨ç½²ç®€å•

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šNext.js 15.3 (App Router)
- **UIåº“**ï¼šReact 18 + TypeScript
- **æ ·å¼**ï¼šTailwind CSS + Shadcn UI + Radix Primitives  
- **å›¾æ ‡**ï¼šLucide React
- **æ€ç»´å¯¼å›¾å¼•æ“**ï¼šMind-Elixir 5.0.1
- **é€šçŸ¥**ï¼šSonner

### åç«¯æŠ€æœ¯æ ˆ
- **è¿è¡Œæ—¶**ï¼šNode.js + Next.js API Routes
- **æ–‡æ¡£è§£æ**ï¼špdf-parse + mammoth (docx)
- **æ–‡æœ¬å¤„ç†**ï¼šçº¯JavaScriptæ–‡æœ¬è§£æç®—æ³•
- **æ•°æ®åº“**ï¼šSupabase (å¯é€‰ï¼Œç”¨äºç”¨æˆ·ç®¡ç†)

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†**ï¼šBun
- **ä»£ç è´¨é‡**ï¼šBiome (æ ¼å¼åŒ– + Linting)
- **ç±»å‹æ£€æŸ¥**ï¼šTypeScript 5.8
- **éƒ¨ç½²**ï¼šNetlify

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ api/mindmap/generate/     # æ€ç»´å¯¼å›¾ç”ŸæˆAPI
â”‚   â”œâ”€â”€ page.tsx                  # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ layout.tsx                # å…¨å±€å¸ƒå±€
â”‚   â””â”€â”€ globals.css               # å…¨å±€æ ·å¼ï¼ˆåŒ…å«Mind-Elixiræ ·å¼ï¼‰
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                       # UIç»„ä»¶åº“
â”‚   â””â”€â”€ mindmap/
â”‚       â””â”€â”€ MindElixirViewer.tsx  # Mind-Elixirç»„ä»¶å°è£…
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ text-to-mindmap/          # æ–‡æœ¬ç»“æ„åŒ–å¤„ç†æ ¸å¿ƒ
â”‚   â”‚   â””â”€â”€ index.ts              # æ–‡æœ¬è§£æå’Œè½¬æ¢é€»è¾‘
â”‚   â””â”€â”€ document-parser/          # æ–‡æ¡£è§£æå™¨
â”‚       â””â”€â”€ index.ts              # æ–‡ä»¶è§£æå·¥å…·
â””â”€â”€ lib/
    â”œâ”€â”€ config/                   # åº”ç”¨é…ç½®
    â”œâ”€â”€ types/                    # TypeScriptç±»å‹å®šä¹‰
    â””â”€â”€ supabase/                 # æ•°æ®åº“é›†æˆï¼ˆå¯é€‰ï¼‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- npm/yarn/bun (ä»»é€‰å…¶ä¸€)

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨å…¶ä»–åŒ…ç®¡ç†å™¨
# yarn install
# bun install
```

### ç¯å¢ƒé…ç½®

é¡¹ç›®å¼€ç®±å³ç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

å¦‚éœ€æ•°æ®åº“åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰ï¼Œåˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# Supabase é…ç½® (å¯é€‰)
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ğŸ¯ æ ¸å¿ƒæµç¨‹å¯¹æ¯”

#### æœŸæœ›çš„é¡¹ç›®æµç¨‹
```
ç”¨æˆ·è¾“å…¥æ–‡æœ¬ â†’ ç»“æ„åŒ–å¤„ç† â†’ JSONæ ¼å¼ â†’ Mind-Elixiræ€ç»´å¯¼å›¾
```

#### å½“å‰å®ç°çš„æµç¨‹
```
ç”¨æˆ·è¾“å…¥æ–‡æœ¬ â†’ smartTextParse()è§£æ â†’ MindElixirDataæ ¼å¼ â†’ Mind-Elixiræ¸²æŸ“
```

**âœ… å®Œå…¨ç¬¦åˆæœŸæœ›ï¼**

### 1. æ–‡æœ¬è¾“å…¥æ–¹å¼

#### 1.1 ç›´æ¥æ–‡æœ¬è¾“å…¥
- æ”¯æŒä»»æ„å½¢å¼çš„æ–‡æœ¬å†…å®¹
- é•¿åº¦é™åˆ¶ï¼š50,000å­—ç¬¦ä»¥å†…
- è‡ªåŠ¨è¯†åˆ«æ–‡æœ¬ç»“æ„

#### 1.2 æ–‡ä»¶ä¸Šä¼ 
- æ”¯æŒæ ¼å¼ï¼š`.txt`, `.docx`
- æ–‡ä»¶å¤§å°é™åˆ¶ï¼š9MB
- è‡ªåŠ¨æå–æ–‡æœ¬å†…å®¹

### 2. æ”¯æŒçš„æ–‡æœ¬æ ¼å¼

#### å•è¡Œæ–‡æœ¬
```
æˆ‘çš„æ€ç»´å¯¼å›¾
```
â†’ ç”Ÿæˆæ ¹èŠ‚ç‚¹ä¸º"æˆ‘çš„æ€ç»´å¯¼å›¾"çš„ç®€å•ç»“æ„

#### åˆ—è¡¨æ ¼å¼
```
æˆ‘çš„æ€ç»´å¯¼å›¾
- ç¬¬ä¸€ä¸ªåˆ†æ”¯
- ç¬¬äºŒä¸ªåˆ†æ”¯
- ç¬¬ä¸‰ä¸ªåˆ†æ”¯
```

#### å±‚çº§æ ¼å¼
```
é¡¹ç›®è§„åˆ’
  - éœ€æ±‚åˆ†æ
    - ç”¨æˆ·è°ƒç ”
    - ç«å“åˆ†æ
  - è®¾è®¡é˜¶æ®µ
    - UIè®¾è®¡
    - äº¤äº’è®¾è®¡
```

#### æ•°å­—ç¼–å·
```
å­¦ä¹ è®¡åˆ’
1. åŸºç¡€çŸ¥è¯†
2. å®è·µé¡¹ç›®
3. æ€»ç»“æå‡
```

### 3. æ–‡æœ¬å¤„ç†æµç¨‹
1. **æ™ºèƒ½æ ¼å¼æ£€æµ‹**ï¼šè‡ªåŠ¨è¯†åˆ«æ–‡æœ¬çš„å±‚çº§ç»“æ„
2. **ç»“æ„åŒ–è§£æ**ï¼šå°†æ–‡æœ¬è½¬æ¢ä¸ºæ ‘å½¢ç»“æ„
3. **JSONæ ¼å¼åŒ–**ï¼šç”ŸæˆMind-Elixiræ‰€éœ€çš„æ•°æ®æ ¼å¼
4. **æ€ç»´å¯¼å›¾æ¸²æŸ“**ï¼šä½¿ç”¨Mind-Elixiråº“å±•ç¤º

### 4. ç»“æœå±•ç¤º
- åŸºäºMind-Elixirçš„äº¤äº’å¼æ€ç»´å¯¼å›¾
- æ”¯æŒç¼©æ”¾ã€æ‹–æ‹½ã€ç¼–è¾‘
- å¤šå±‚çº§èŠ‚ç‚¹ç»“æ„
- å¯¼å‡ºåŠŸèƒ½ (JSONæ ¼å¼)

## ğŸ”§ APIæ–‡æ¡£

### POST `/api/mindmap/generate`

å°†æ–‡æœ¬è½¬æ¢ä¸ºæ€ç»´å¯¼å›¾çš„æ ¸å¿ƒAPIã€‚

#### è¯·æ±‚å‚æ•° (FormData)

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `type` | string | âœ… | è¾“å…¥ç±»å‹ï¼š`file_upload` æˆ– `text_input` |
| `title` | string | âœ… | æ–‡æ¡£æ ‡é¢˜ |
| `file` | File | æ¡ä»¶ | ä¸Šä¼ çš„æ–‡ä»¶ (å½“typeä¸ºfile_uploadæ—¶) |
| `content` | string | æ¡ä»¶ | æ–‡æœ¬å†…å®¹ (å½“typeä¸ºtext_inputæ—¶) |

#### å“åº”æ ¼å¼

```typescript
interface ApiResponse<MindElixirData> {
  success: boolean;
  data?: {
    nodeData: {
      topic: string;
      id: string;
      children?: MindElixirNode[];
    };
    linkData?: unknown[];
  };
  error?: {
    message: string;
    code: string;
  };
  metadata?: {
    timestamp: string;
    processingTime: number;
  };
}
```

#### ç¤ºä¾‹è¯·æ±‚

```javascript
const formData = new FormData();
formData.append('type', 'text_input');
formData.append('title', 'æˆ‘çš„æ€ç»´å¯¼å›¾');
formData.append('content', 'æˆ‘çš„æ€ç»´å¯¼å›¾\n- ç¬¬ä¸€ä¸ªåˆ†æ”¯\n- ç¬¬äºŒä¸ªåˆ†æ”¯');

const response = await fetch('/api/mindmap/generate', {
  method: 'POST',
  body: formData
});

const result = await response.json();
console.log(result.data); // Mind-Elixiræ ¼å¼çš„æ•°æ®
```

## âš™ï¸ é…ç½®è¯´æ˜

### åº”ç”¨é…ç½® (`src/lib/config/app.ts`)

```typescript
export const textConfig = {
  maxLength: 50000,                   // æ–‡æœ¬é•¿åº¦é™åˆ¶
  placeholder: "è¾“å…¥æ‚¨æƒ³è¦è½¬æ¢çš„æ–‡æœ¬å†…å®¹..."
};

export const fileTypeConfig = {
  maxSize: 9 * 1024 * 1024,          // æ–‡ä»¶å¤§å°é™åˆ¶ (9MB)
  acceptedMimeTypes: [                // æ”¯æŒçš„æ–‡ä»¶ç±»å‹
    'text/plain',
    'application/pdf',
    'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
  ]
};
```

## ğŸ§ª ä»£ç è´¨é‡

### ä»£ç è§„èŒƒ
```bash
# ä»£ç æ ¼å¼åŒ–å’Œæ£€æŸ¥
npm run lint

# æ„å»ºæ£€æŸ¥
npm run build
```

### æŠ€æœ¯åŸåˆ™
- **è½»é‡é«˜æ•ˆ**ï¼šæ— éœ€AIæœåŠ¡ï¼Œå¤„ç†é€Ÿåº¦å¿«
- **ç±»å‹å®‰å…¨**ï¼šå…¨é¢çš„ TypeScript ç±»å‹å®šä¹‰
- **å…¼å®¹æ€§å¼º**ï¼šæ”¯æŒä»»æ„å½¢å¼çš„æ–‡æœ¬è¾“å…¥
- **ç”¨æˆ·å‹å¥½**ï¼šç®€æ´çš„ç•Œé¢å’Œæ¸…æ™°çš„æ“ä½œæµç¨‹

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. æäº¤ Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

- å¼€å‘è€…ï¼š[ä½ çš„åå­—]
- é‚®ç®±ï¼š[ä½ çš„é‚®ç®±]
- GitHubï¼š[ä½ çš„GitHub]

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [Next.js](https://nextjs.org) - Reactå…¨æ ˆæ¡†æ¶
- [Mind-Elixir](https://github.com/ssshooter/mind-elixir-core) - æ€ç»´å¯¼å›¾æ¸²æŸ“å¼•æ“
- [Tailwind CSS](https://tailwindcss.com) - CSSæ¡†æ¶
- [Shadcn UI](https://ui.shadcn.com) - UIç»„ä»¶åº“

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼**
